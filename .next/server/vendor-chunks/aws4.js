/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/aws4";
exports.ids = ["vendor-chunks/aws4"];
exports.modules = {

/***/ "(rsc)/./node_modules/aws4/aws4.js":
/*!***********************************!*\
  !*** ./node_modules/aws4/aws4.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("var aws4 = exports,\n    url = __webpack_require__(/*! url */ \"url\"),\n    querystring = __webpack_require__(/*! querystring */ \"querystring\"),\n    crypto = __webpack_require__(/*! crypto */ \"crypto\"),\n    lru = __webpack_require__(/*! ./lru */ \"(rsc)/./node_modules/aws4/lru.js\"),\n    credentialsCache = lru(1000)\n\n// http://docs.amazonwebservices.com/general/latest/gr/signature-version-4.html\n\nfunction hmac(key, string, encoding) {\n  return crypto.createHmac('sha256', key).update(string, 'utf8').digest(encoding)\n}\n\nfunction hash(string, encoding) {\n  return crypto.createHash('sha256').update(string, 'utf8').digest(encoding)\n}\n\n// This function assumes the string has already been percent encoded\nfunction encodeRfc3986(urlEncodedString) {\n  return urlEncodedString.replace(/[!'()*]/g, function(c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\nfunction encodeRfc3986Full(str) {\n  return encodeRfc3986(encodeURIComponent(str))\n}\n\n// A bit of a combination of:\n// https://github.com/aws/aws-sdk-java-v2/blob/dc695de6ab49ad03934e1b02e7263abbd2354be0/core/auth/src/main/java/software/amazon/awssdk/auth/signer/internal/AbstractAws4Signer.java#L59\n// https://github.com/aws/aws-sdk-js/blob/18cb7e5b463b46239f9fdd4a65e2ff8c81831e8f/lib/signers/v4.js#L191-L199\n// https://github.com/mhart/aws4fetch/blob/b3aed16b6f17384cf36ea33bcba3c1e9f3bdfefd/src/main.js#L25-L34\nvar HEADERS_TO_IGNORE = {\n  'authorization': true,\n  'connection': true,\n  'x-amzn-trace-id': true,\n  'user-agent': true,\n  'expect': true,\n  'presigned-expires': true,\n  'range': true,\n}\n\n// request: { path | body, [host], [method], [headers], [service], [region] }\n// credentials: { accessKeyId, secretAccessKey, [sessionToken] }\nfunction RequestSigner(request, credentials) {\n\n  if (typeof request === 'string') request = url.parse(request)\n\n  var headers = request.headers = Object.assign({}, (request.headers || {})),\n      hostParts = (!this.service || !this.region) && this.matchHost(request.hostname || request.host || headers.Host || headers.host)\n\n  this.request = request\n  this.credentials = credentials || this.defaultCredentials()\n\n  this.service = request.service || hostParts[0] || ''\n  this.region = request.region || hostParts[1] || 'us-east-1'\n\n  // SES uses a different domain from the service name\n  if (this.service === 'email') this.service = 'ses'\n\n  if (!request.method && request.body)\n    request.method = 'POST'\n\n  if (!headers.Host && !headers.host) {\n    headers.Host = request.hostname || request.host || this.createHost()\n\n    // If a port is specified explicitly, use it as is\n    if (request.port)\n      headers.Host += ':' + request.port\n  }\n  if (!request.hostname && !request.host)\n    request.hostname = headers.Host || headers.host\n\n  this.isCodeCommitGit = this.service === 'codecommit' && request.method === 'GIT'\n\n  this.extraHeadersToIgnore = request.extraHeadersToIgnore || Object.create(null)\n  this.extraHeadersToInclude = request.extraHeadersToInclude || Object.create(null)\n}\n\nRequestSigner.prototype.matchHost = function(host) {\n  var match = (host || '').match(/([^\\.]+)\\.(?:([^\\.]*)\\.)?amazonaws\\.com(\\.cn)?$/)\n  var hostParts = (match || []).slice(1, 3)\n\n  // ES's hostParts are sometimes the other way round, if the value that is expected\n  // to be region equals ‘es’ switch them back\n  // e.g. search-cluster-name-aaaa00aaaa0aaa0aaaaaaa0aaa.us-east-1.es.amazonaws.com\n  if (hostParts[1] === 'es' || hostParts[1] === 'aoss')\n    hostParts = hostParts.reverse()\n\n  if (hostParts[1] == 's3') {\n    hostParts[0] = 's3'\n    hostParts[1] = 'us-east-1'\n  } else {\n    for (var i = 0; i < 2; i++) {\n      if (/^s3-/.test(hostParts[i])) {\n        hostParts[1] = hostParts[i].slice(3)\n        hostParts[0] = 's3'\n        break\n      }\n    }\n  }\n\n  return hostParts\n}\n\n// http://docs.aws.amazon.com/general/latest/gr/rande.html\nRequestSigner.prototype.isSingleRegion = function() {\n  // Special case for S3 and SimpleDB in us-east-1\n  if (['s3', 'sdb'].indexOf(this.service) >= 0 && this.region === 'us-east-1') return true\n\n  return ['cloudfront', 'ls', 'route53', 'iam', 'importexport', 'sts']\n    .indexOf(this.service) >= 0\n}\n\nRequestSigner.prototype.createHost = function() {\n  var region = this.isSingleRegion() ? '' : '.' + this.region,\n      subdomain = this.service === 'ses' ? 'email' : this.service\n  return subdomain + region + '.amazonaws.com'\n}\n\nRequestSigner.prototype.prepareRequest = function() {\n  this.parsePath()\n\n  var request = this.request, headers = request.headers, query\n\n  if (request.signQuery) {\n\n    this.parsedPath.query = query = this.parsedPath.query || {}\n\n    if (this.credentials.sessionToken)\n      query['X-Amz-Security-Token'] = this.credentials.sessionToken\n\n    if (this.service === 's3' && !query['X-Amz-Expires'])\n      query['X-Amz-Expires'] = 86400\n\n    if (query['X-Amz-Date'])\n      this.datetime = query['X-Amz-Date']\n    else\n      query['X-Amz-Date'] = this.getDateTime()\n\n    query['X-Amz-Algorithm'] = 'AWS4-HMAC-SHA256'\n    query['X-Amz-Credential'] = this.credentials.accessKeyId + '/' + this.credentialString()\n    query['X-Amz-SignedHeaders'] = this.signedHeaders()\n\n  } else {\n\n    if (!request.doNotModifyHeaders && !this.isCodeCommitGit) {\n      if (request.body && !headers['Content-Type'] && !headers['content-type'])\n        headers['Content-Type'] = 'application/x-www-form-urlencoded; charset=utf-8'\n\n      if (request.body && !headers['Content-Length'] && !headers['content-length'])\n        headers['Content-Length'] = Buffer.byteLength(request.body)\n\n      if (this.credentials.sessionToken && !headers['X-Amz-Security-Token'] && !headers['x-amz-security-token'])\n        headers['X-Amz-Security-Token'] = this.credentials.sessionToken\n\n      if (this.service === 's3' && !headers['X-Amz-Content-Sha256'] && !headers['x-amz-content-sha256'])\n        headers['X-Amz-Content-Sha256'] = hash(this.request.body || '', 'hex')\n\n      if (headers['X-Amz-Date'] || headers['x-amz-date'])\n        this.datetime = headers['X-Amz-Date'] || headers['x-amz-date']\n      else\n        headers['X-Amz-Date'] = this.getDateTime()\n    }\n\n    delete headers.Authorization\n    delete headers.authorization\n  }\n}\n\nRequestSigner.prototype.sign = function() {\n  if (!this.parsedPath) this.prepareRequest()\n\n  if (this.request.signQuery) {\n    this.parsedPath.query['X-Amz-Signature'] = this.signature()\n  } else {\n    this.request.headers.Authorization = this.authHeader()\n  }\n\n  this.request.path = this.formatPath()\n\n  return this.request\n}\n\nRequestSigner.prototype.getDateTime = function() {\n  if (!this.datetime) {\n    var headers = this.request.headers,\n      date = new Date(headers.Date || headers.date || new Date)\n\n    this.datetime = date.toISOString().replace(/[:\\-]|\\.\\d{3}/g, '')\n\n    // Remove the trailing 'Z' on the timestamp string for CodeCommit git access\n    if (this.isCodeCommitGit) this.datetime = this.datetime.slice(0, -1)\n  }\n  return this.datetime\n}\n\nRequestSigner.prototype.getDate = function() {\n  return this.getDateTime().substr(0, 8)\n}\n\nRequestSigner.prototype.authHeader = function() {\n  return [\n    'AWS4-HMAC-SHA256 Credential=' + this.credentials.accessKeyId + '/' + this.credentialString(),\n    'SignedHeaders=' + this.signedHeaders(),\n    'Signature=' + this.signature(),\n  ].join(', ')\n}\n\nRequestSigner.prototype.signature = function() {\n  var date = this.getDate(),\n      cacheKey = [this.credentials.secretAccessKey, date, this.region, this.service].join(),\n      kDate, kRegion, kService, kCredentials = credentialsCache.get(cacheKey)\n  if (!kCredentials) {\n    kDate = hmac('AWS4' + this.credentials.secretAccessKey, date)\n    kRegion = hmac(kDate, this.region)\n    kService = hmac(kRegion, this.service)\n    kCredentials = hmac(kService, 'aws4_request')\n    credentialsCache.set(cacheKey, kCredentials)\n  }\n  return hmac(kCredentials, this.stringToSign(), 'hex')\n}\n\nRequestSigner.prototype.stringToSign = function() {\n  return [\n    'AWS4-HMAC-SHA256',\n    this.getDateTime(),\n    this.credentialString(),\n    hash(this.canonicalString(), 'hex'),\n  ].join('\\n')\n}\n\nRequestSigner.prototype.canonicalString = function() {\n  if (!this.parsedPath) this.prepareRequest()\n\n  var pathStr = this.parsedPath.path,\n      query = this.parsedPath.query,\n      headers = this.request.headers,\n      queryStr = '',\n      normalizePath = this.service !== 's3',\n      decodePath = this.service === 's3' || this.request.doNotEncodePath,\n      decodeSlashesInPath = this.service === 's3',\n      firstValOnly = this.service === 's3',\n      bodyHash\n\n  if (this.service === 's3' && this.request.signQuery) {\n    bodyHash = 'UNSIGNED-PAYLOAD'\n  } else if (this.isCodeCommitGit) {\n    bodyHash = ''\n  } else {\n    bodyHash = headers['X-Amz-Content-Sha256'] || headers['x-amz-content-sha256'] ||\n      hash(this.request.body || '', 'hex')\n  }\n\n  if (query) {\n    var reducedQuery = Object.keys(query).reduce(function(obj, key) {\n      if (!key) return obj\n      obj[encodeRfc3986Full(key)] = !Array.isArray(query[key]) ? query[key] :\n        (firstValOnly ? query[key][0] : query[key])\n      return obj\n    }, {})\n    var encodedQueryPieces = []\n    Object.keys(reducedQuery).sort().forEach(function(key) {\n      if (!Array.isArray(reducedQuery[key])) {\n        encodedQueryPieces.push(key + '=' + encodeRfc3986Full(reducedQuery[key]))\n      } else {\n        reducedQuery[key].map(encodeRfc3986Full).sort()\n          .forEach(function(val) { encodedQueryPieces.push(key + '=' + val) })\n      }\n    })\n    queryStr = encodedQueryPieces.join('&')\n  }\n  if (pathStr !== '/') {\n    if (normalizePath) pathStr = pathStr.replace(/\\/{2,}/g, '/')\n    pathStr = pathStr.split('/').reduce(function(path, piece) {\n      if (normalizePath && piece === '..') {\n        path.pop()\n      } else if (!normalizePath || piece !== '.') {\n        if (decodePath) piece = decodeURIComponent(piece.replace(/\\+/g, ' '))\n        path.push(encodeRfc3986Full(piece))\n      }\n      return path\n    }, []).join('/')\n    if (pathStr[0] !== '/') pathStr = '/' + pathStr\n    if (decodeSlashesInPath) pathStr = pathStr.replace(/%2F/g, '/')\n  }\n\n  return [\n    this.request.method || 'GET',\n    pathStr,\n    queryStr,\n    this.canonicalHeaders() + '\\n',\n    this.signedHeaders(),\n    bodyHash,\n  ].join('\\n')\n}\n\nRequestSigner.prototype.canonicalHeaders = function() {\n  var headers = this.request.headers\n  function trimAll(header) {\n    return header.toString().trim().replace(/\\s+/g, ' ')\n  }\n  return Object.keys(headers)\n    .filter(function(key) { return HEADERS_TO_IGNORE[key.toLowerCase()] == null })\n    .sort(function(a, b) { return a.toLowerCase() < b.toLowerCase() ? -1 : 1 })\n    .map(function(key) { return key.toLowerCase() + ':' + trimAll(headers[key]) })\n    .join('\\n')\n}\n\nRequestSigner.prototype.signedHeaders = function() {\n  var extraHeadersToInclude = this.extraHeadersToInclude,\n      extraHeadersToIgnore = this.extraHeadersToIgnore\n  return Object.keys(this.request.headers)\n    .map(function(key) { return key.toLowerCase() })\n    .filter(function(key) {\n      return extraHeadersToInclude[key] ||\n        (HEADERS_TO_IGNORE[key] == null && !extraHeadersToIgnore[key])\n    })\n    .sort()\n    .join(';')\n}\n\nRequestSigner.prototype.credentialString = function() {\n  return [\n    this.getDate(),\n    this.region,\n    this.service,\n    'aws4_request',\n  ].join('/')\n}\n\nRequestSigner.prototype.defaultCredentials = function() {\n  var env = process.env\n  return {\n    accessKeyId: env.AWS_ACCESS_KEY_ID || env.AWS_ACCESS_KEY,\n    secretAccessKey: env.AWS_SECRET_ACCESS_KEY || env.AWS_SECRET_KEY,\n    sessionToken: env.AWS_SESSION_TOKEN,\n  }\n}\n\nRequestSigner.prototype.parsePath = function() {\n  var path = this.request.path || '/'\n\n  // S3 doesn't always encode characters > 127 correctly and\n  // all services don't encode characters > 255 correctly\n  // So if there are non-reserved chars (and it's not already all % encoded), just encode them all\n  if (/[^0-9A-Za-z;,/?:@&=+$\\-_.!~*'()#%]/.test(path)) {\n    path = encodeURI(decodeURI(path))\n  }\n\n  var queryIx = path.indexOf('?'),\n      query = null\n\n  if (queryIx >= 0) {\n    query = querystring.parse(path.slice(queryIx + 1))\n    path = path.slice(0, queryIx)\n  }\n\n  this.parsedPath = {\n    path: path,\n    query: query,\n  }\n}\n\nRequestSigner.prototype.formatPath = function() {\n  var path = this.parsedPath.path,\n      query = this.parsedPath.query\n\n  if (!query) return path\n\n  // Services don't support empty query string keys\n  if (query[''] != null) delete query['']\n\n  return path + '?' + encodeRfc3986(querystring.stringify(query))\n}\n\naws4.RequestSigner = RequestSigner\n\naws4.sign = function(request, credentials) {\n  return new RequestSigner(request, credentials).sign()\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BhZ2UtZm9ybS8uL25vZGVfbW9kdWxlcy9hd3M0L2F3czQuanM/NGJhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXdzNCA9IGV4cG9ydHMsXG4gICAgdXJsID0gcmVxdWlyZSgndXJsJyksXG4gICAgcXVlcnlzdHJpbmcgPSByZXF1aXJlKCdxdWVyeXN0cmluZycpLFxuICAgIGNyeXB0byA9IHJlcXVpcmUoJ2NyeXB0bycpLFxuICAgIGxydSA9IHJlcXVpcmUoJy4vbHJ1JyksXG4gICAgY3JlZGVudGlhbHNDYWNoZSA9IGxydSgxMDAwKVxuXG4vLyBodHRwOi8vZG9jcy5hbWF6b253ZWJzZXJ2aWNlcy5jb20vZ2VuZXJhbC9sYXRlc3QvZ3Ivc2lnbmF0dXJlLXZlcnNpb24tNC5odG1sXG5cbmZ1bmN0aW9uIGhtYWMoa2V5LCBzdHJpbmcsIGVuY29kaW5nKSB7XG4gIHJldHVybiBjcnlwdG8uY3JlYXRlSG1hYygnc2hhMjU2Jywga2V5KS51cGRhdGUoc3RyaW5nLCAndXRmOCcpLmRpZ2VzdChlbmNvZGluZylcbn1cblxuZnVuY3Rpb24gaGFzaChzdHJpbmcsIGVuY29kaW5nKSB7XG4gIHJldHVybiBjcnlwdG8uY3JlYXRlSGFzaCgnc2hhMjU2JykudXBkYXRlKHN0cmluZywgJ3V0ZjgnKS5kaWdlc3QoZW5jb2RpbmcpXG59XG5cbi8vIFRoaXMgZnVuY3Rpb24gYXNzdW1lcyB0aGUgc3RyaW5nIGhhcyBhbHJlYWR5IGJlZW4gcGVyY2VudCBlbmNvZGVkXG5mdW5jdGlvbiBlbmNvZGVSZmMzOTg2KHVybEVuY29kZWRTdHJpbmcpIHtcbiAgcmV0dXJuIHVybEVuY29kZWRTdHJpbmcucmVwbGFjZSgvWyEnKCkqXS9nLCBmdW5jdGlvbihjKSB7XG4gICAgcmV0dXJuICclJyArIGMuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKVxuICB9KVxufVxuXG5mdW5jdGlvbiBlbmNvZGVSZmMzOTg2RnVsbChzdHIpIHtcbiAgcmV0dXJuIGVuY29kZVJmYzM5ODYoZW5jb2RlVVJJQ29tcG9uZW50KHN0cikpXG59XG5cbi8vIEEgYml0IG9mIGEgY29tYmluYXRpb24gb2Y6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vYXdzL2F3cy1zZGstamF2YS12Mi9ibG9iL2RjNjk1ZGU2YWI0OWFkMDM5MzRlMWIwMmU3MjYzYWJiZDIzNTRiZTAvY29yZS9hdXRoL3NyYy9tYWluL2phdmEvc29mdHdhcmUvYW1hem9uL2F3c3Nkay9hdXRoL3NpZ25lci9pbnRlcm5hbC9BYnN0cmFjdEF3czRTaWduZXIuamF2YSNMNTlcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hd3MvYXdzLXNkay1qcy9ibG9iLzE4Y2I3ZTViNDYzYjQ2MjM5ZjlmZGQ0YTY1ZTJmZjhjODE4MzFlOGYvbGliL3NpZ25lcnMvdjQuanMjTDE5MS1MMTk5XG4vLyBodHRwczovL2dpdGh1Yi5jb20vbWhhcnQvYXdzNGZldGNoL2Jsb2IvYjNhZWQxNmI2ZjE3Mzg0Y2YzNmVhMzNiY2JhM2MxZTlmM2JkZmVmZC9zcmMvbWFpbi5qcyNMMjUtTDM0XG52YXIgSEVBREVSU19UT19JR05PUkUgPSB7XG4gICdhdXRob3JpemF0aW9uJzogdHJ1ZSxcbiAgJ2Nvbm5lY3Rpb24nOiB0cnVlLFxuICAneC1hbXpuLXRyYWNlLWlkJzogdHJ1ZSxcbiAgJ3VzZXItYWdlbnQnOiB0cnVlLFxuICAnZXhwZWN0JzogdHJ1ZSxcbiAgJ3ByZXNpZ25lZC1leHBpcmVzJzogdHJ1ZSxcbiAgJ3JhbmdlJzogdHJ1ZSxcbn1cblxuLy8gcmVxdWVzdDogeyBwYXRoIHwgYm9keSwgW2hvc3RdLCBbbWV0aG9kXSwgW2hlYWRlcnNdLCBbc2VydmljZV0sIFtyZWdpb25dIH1cbi8vIGNyZWRlbnRpYWxzOiB7IGFjY2Vzc0tleUlkLCBzZWNyZXRBY2Nlc3NLZXksIFtzZXNzaW9uVG9rZW5dIH1cbmZ1bmN0aW9uIFJlcXVlc3RTaWduZXIocmVxdWVzdCwgY3JlZGVudGlhbHMpIHtcblxuICBpZiAodHlwZW9mIHJlcXVlc3QgPT09ICdzdHJpbmcnKSByZXF1ZXN0ID0gdXJsLnBhcnNlKHJlcXVlc3QpXG5cbiAgdmFyIGhlYWRlcnMgPSByZXF1ZXN0LmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKHt9LCAocmVxdWVzdC5oZWFkZXJzIHx8IHt9KSksXG4gICAgICBob3N0UGFydHMgPSAoIXRoaXMuc2VydmljZSB8fCAhdGhpcy5yZWdpb24pICYmIHRoaXMubWF0Y2hIb3N0KHJlcXVlc3QuaG9zdG5hbWUgfHwgcmVxdWVzdC5ob3N0IHx8IGhlYWRlcnMuSG9zdCB8fCBoZWFkZXJzLmhvc3QpXG5cbiAgdGhpcy5yZXF1ZXN0ID0gcmVxdWVzdFxuICB0aGlzLmNyZWRlbnRpYWxzID0gY3JlZGVudGlhbHMgfHwgdGhpcy5kZWZhdWx0Q3JlZGVudGlhbHMoKVxuXG4gIHRoaXMuc2VydmljZSA9IHJlcXVlc3Quc2VydmljZSB8fCBob3N0UGFydHNbMF0gfHwgJydcbiAgdGhpcy5yZWdpb24gPSByZXF1ZXN0LnJlZ2lvbiB8fCBob3N0UGFydHNbMV0gfHwgJ3VzLWVhc3QtMSdcblxuICAvLyBTRVMgdXNlcyBhIGRpZmZlcmVudCBkb21haW4gZnJvbSB0aGUgc2VydmljZSBuYW1lXG4gIGlmICh0aGlzLnNlcnZpY2UgPT09ICdlbWFpbCcpIHRoaXMuc2VydmljZSA9ICdzZXMnXG5cbiAgaWYgKCFyZXF1ZXN0Lm1ldGhvZCAmJiByZXF1ZXN0LmJvZHkpXG4gICAgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCdcblxuICBpZiAoIWhlYWRlcnMuSG9zdCAmJiAhaGVhZGVycy5ob3N0KSB7XG4gICAgaGVhZGVycy5Ib3N0ID0gcmVxdWVzdC5ob3N0bmFtZSB8fCByZXF1ZXN0Lmhvc3QgfHwgdGhpcy5jcmVhdGVIb3N0KClcblxuICAgIC8vIElmIGEgcG9ydCBpcyBzcGVjaWZpZWQgZXhwbGljaXRseSwgdXNlIGl0IGFzIGlzXG4gICAgaWYgKHJlcXVlc3QucG9ydClcbiAgICAgIGhlYWRlcnMuSG9zdCArPSAnOicgKyByZXF1ZXN0LnBvcnRcbiAgfVxuICBpZiAoIXJlcXVlc3QuaG9zdG5hbWUgJiYgIXJlcXVlc3QuaG9zdClcbiAgICByZXF1ZXN0Lmhvc3RuYW1lID0gaGVhZGVycy5Ib3N0IHx8IGhlYWRlcnMuaG9zdFxuXG4gIHRoaXMuaXNDb2RlQ29tbWl0R2l0ID0gdGhpcy5zZXJ2aWNlID09PSAnY29kZWNvbW1pdCcgJiYgcmVxdWVzdC5tZXRob2QgPT09ICdHSVQnXG5cbiAgdGhpcy5leHRyYUhlYWRlcnNUb0lnbm9yZSA9IHJlcXVlc3QuZXh0cmFIZWFkZXJzVG9JZ25vcmUgfHwgT2JqZWN0LmNyZWF0ZShudWxsKVxuICB0aGlzLmV4dHJhSGVhZGVyc1RvSW5jbHVkZSA9IHJlcXVlc3QuZXh0cmFIZWFkZXJzVG9JbmNsdWRlIHx8IE9iamVjdC5jcmVhdGUobnVsbClcbn1cblxuUmVxdWVzdFNpZ25lci5wcm90b3R5cGUubWF0Y2hIb3N0ID0gZnVuY3Rpb24oaG9zdCkge1xuICB2YXIgbWF0Y2ggPSAoaG9zdCB8fCAnJykubWF0Y2goLyhbXlxcLl0rKVxcLig/OihbXlxcLl0qKVxcLik/YW1hem9uYXdzXFwuY29tKFxcLmNuKT8kLylcbiAgdmFyIGhvc3RQYXJ0cyA9IChtYXRjaCB8fCBbXSkuc2xpY2UoMSwgMylcblxuICAvLyBFUydzIGhvc3RQYXJ0cyBhcmUgc29tZXRpbWVzIHRoZSBvdGhlciB3YXkgcm91bmQsIGlmIHRoZSB2YWx1ZSB0aGF0IGlzIGV4cGVjdGVkXG4gIC8vIHRvIGJlIHJlZ2lvbiBlcXVhbHMg4oCYZXPigJkgc3dpdGNoIHRoZW0gYmFja1xuICAvLyBlLmcuIHNlYXJjaC1jbHVzdGVyLW5hbWUtYWFhYTAwYWFhYTBhYWEwYWFhYWFhYTBhYWEudXMtZWFzdC0xLmVzLmFtYXpvbmF3cy5jb21cbiAgaWYgKGhvc3RQYXJ0c1sxXSA9PT0gJ2VzJyB8fCBob3N0UGFydHNbMV0gPT09ICdhb3NzJylcbiAgICBob3N0UGFydHMgPSBob3N0UGFydHMucmV2ZXJzZSgpXG5cbiAgaWYgKGhvc3RQYXJ0c1sxXSA9PSAnczMnKSB7XG4gICAgaG9zdFBhcnRzWzBdID0gJ3MzJ1xuICAgIGhvc3RQYXJ0c1sxXSA9ICd1cy1lYXN0LTEnXG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyOyBpKyspIHtcbiAgICAgIGlmICgvXnMzLS8udGVzdChob3N0UGFydHNbaV0pKSB7XG4gICAgICAgIGhvc3RQYXJ0c1sxXSA9IGhvc3RQYXJ0c1tpXS5zbGljZSgzKVxuICAgICAgICBob3N0UGFydHNbMF0gPSAnczMnXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGhvc3RQYXJ0c1xufVxuXG4vLyBodHRwOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9nZW5lcmFsL2xhdGVzdC9nci9yYW5kZS5odG1sXG5SZXF1ZXN0U2lnbmVyLnByb3RvdHlwZS5pc1NpbmdsZVJlZ2lvbiA9IGZ1bmN0aW9uKCkge1xuICAvLyBTcGVjaWFsIGNhc2UgZm9yIFMzIGFuZCBTaW1wbGVEQiBpbiB1cy1lYXN0LTFcbiAgaWYgKFsnczMnLCAnc2RiJ10uaW5kZXhPZih0aGlzLnNlcnZpY2UpID49IDAgJiYgdGhpcy5yZWdpb24gPT09ICd1cy1lYXN0LTEnKSByZXR1cm4gdHJ1ZVxuXG4gIHJldHVybiBbJ2Nsb3VkZnJvbnQnLCAnbHMnLCAncm91dGU1MycsICdpYW0nLCAnaW1wb3J0ZXhwb3J0JywgJ3N0cyddXG4gICAgLmluZGV4T2YodGhpcy5zZXJ2aWNlKSA+PSAwXG59XG5cblJlcXVlc3RTaWduZXIucHJvdG90eXBlLmNyZWF0ZUhvc3QgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJlZ2lvbiA9IHRoaXMuaXNTaW5nbGVSZWdpb24oKSA/ICcnIDogJy4nICsgdGhpcy5yZWdpb24sXG4gICAgICBzdWJkb21haW4gPSB0aGlzLnNlcnZpY2UgPT09ICdzZXMnID8gJ2VtYWlsJyA6IHRoaXMuc2VydmljZVxuICByZXR1cm4gc3ViZG9tYWluICsgcmVnaW9uICsgJy5hbWF6b25hd3MuY29tJ1xufVxuXG5SZXF1ZXN0U2lnbmVyLnByb3RvdHlwZS5wcmVwYXJlUmVxdWVzdCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBhcnNlUGF0aCgpXG5cbiAgdmFyIHJlcXVlc3QgPSB0aGlzLnJlcXVlc3QsIGhlYWRlcnMgPSByZXF1ZXN0LmhlYWRlcnMsIHF1ZXJ5XG5cbiAgaWYgKHJlcXVlc3Quc2lnblF1ZXJ5KSB7XG5cbiAgICB0aGlzLnBhcnNlZFBhdGgucXVlcnkgPSBxdWVyeSA9IHRoaXMucGFyc2VkUGF0aC5xdWVyeSB8fCB7fVxuXG4gICAgaWYgKHRoaXMuY3JlZGVudGlhbHMuc2Vzc2lvblRva2VuKVxuICAgICAgcXVlcnlbJ1gtQW16LVNlY3VyaXR5LVRva2VuJ10gPSB0aGlzLmNyZWRlbnRpYWxzLnNlc3Npb25Ub2tlblxuXG4gICAgaWYgKHRoaXMuc2VydmljZSA9PT0gJ3MzJyAmJiAhcXVlcnlbJ1gtQW16LUV4cGlyZXMnXSlcbiAgICAgIHF1ZXJ5WydYLUFtei1FeHBpcmVzJ10gPSA4NjQwMFxuXG4gICAgaWYgKHF1ZXJ5WydYLUFtei1EYXRlJ10pXG4gICAgICB0aGlzLmRhdGV0aW1lID0gcXVlcnlbJ1gtQW16LURhdGUnXVxuICAgIGVsc2VcbiAgICAgIHF1ZXJ5WydYLUFtei1EYXRlJ10gPSB0aGlzLmdldERhdGVUaW1lKClcblxuICAgIHF1ZXJ5WydYLUFtei1BbGdvcml0aG0nXSA9ICdBV1M0LUhNQUMtU0hBMjU2J1xuICAgIHF1ZXJ5WydYLUFtei1DcmVkZW50aWFsJ10gPSB0aGlzLmNyZWRlbnRpYWxzLmFjY2Vzc0tleUlkICsgJy8nICsgdGhpcy5jcmVkZW50aWFsU3RyaW5nKClcbiAgICBxdWVyeVsnWC1BbXotU2lnbmVkSGVhZGVycyddID0gdGhpcy5zaWduZWRIZWFkZXJzKClcblxuICB9IGVsc2Uge1xuXG4gICAgaWYgKCFyZXF1ZXN0LmRvTm90TW9kaWZ5SGVhZGVycyAmJiAhdGhpcy5pc0NvZGVDb21taXRHaXQpIHtcbiAgICAgIGlmIChyZXF1ZXN0LmJvZHkgJiYgIWhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddICYmICFoZWFkZXJzWydjb250ZW50LXR5cGUnXSlcbiAgICAgICAgaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PXV0Zi04J1xuXG4gICAgICBpZiAocmVxdWVzdC5ib2R5ICYmICFoZWFkZXJzWydDb250ZW50LUxlbmd0aCddICYmICFoZWFkZXJzWydjb250ZW50LWxlbmd0aCddKVxuICAgICAgICBoZWFkZXJzWydDb250ZW50LUxlbmd0aCddID0gQnVmZmVyLmJ5dGVMZW5ndGgocmVxdWVzdC5ib2R5KVxuXG4gICAgICBpZiAodGhpcy5jcmVkZW50aWFscy5zZXNzaW9uVG9rZW4gJiYgIWhlYWRlcnNbJ1gtQW16LVNlY3VyaXR5LVRva2VuJ10gJiYgIWhlYWRlcnNbJ3gtYW16LXNlY3VyaXR5LXRva2VuJ10pXG4gICAgICAgIGhlYWRlcnNbJ1gtQW16LVNlY3VyaXR5LVRva2VuJ10gPSB0aGlzLmNyZWRlbnRpYWxzLnNlc3Npb25Ub2tlblxuXG4gICAgICBpZiAodGhpcy5zZXJ2aWNlID09PSAnczMnICYmICFoZWFkZXJzWydYLUFtei1Db250ZW50LVNoYTI1NiddICYmICFoZWFkZXJzWyd4LWFtei1jb250ZW50LXNoYTI1NiddKVxuICAgICAgICBoZWFkZXJzWydYLUFtei1Db250ZW50LVNoYTI1NiddID0gaGFzaCh0aGlzLnJlcXVlc3QuYm9keSB8fCAnJywgJ2hleCcpXG5cbiAgICAgIGlmIChoZWFkZXJzWydYLUFtei1EYXRlJ10gfHwgaGVhZGVyc1sneC1hbXotZGF0ZSddKVxuICAgICAgICB0aGlzLmRhdGV0aW1lID0gaGVhZGVyc1snWC1BbXotRGF0ZSddIHx8IGhlYWRlcnNbJ3gtYW16LWRhdGUnXVxuICAgICAgZWxzZVxuICAgICAgICBoZWFkZXJzWydYLUFtei1EYXRlJ10gPSB0aGlzLmdldERhdGVUaW1lKClcbiAgICB9XG5cbiAgICBkZWxldGUgaGVhZGVycy5BdXRob3JpemF0aW9uXG4gICAgZGVsZXRlIGhlYWRlcnMuYXV0aG9yaXphdGlvblxuICB9XG59XG5cblJlcXVlc3RTaWduZXIucHJvdG90eXBlLnNpZ24gPSBmdW5jdGlvbigpIHtcbiAgaWYgKCF0aGlzLnBhcnNlZFBhdGgpIHRoaXMucHJlcGFyZVJlcXVlc3QoKVxuXG4gIGlmICh0aGlzLnJlcXVlc3Quc2lnblF1ZXJ5KSB7XG4gICAgdGhpcy5wYXJzZWRQYXRoLnF1ZXJ5WydYLUFtei1TaWduYXR1cmUnXSA9IHRoaXMuc2lnbmF0dXJlKClcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnJlcXVlc3QuaGVhZGVycy5BdXRob3JpemF0aW9uID0gdGhpcy5hdXRoSGVhZGVyKClcbiAgfVxuXG4gIHRoaXMucmVxdWVzdC5wYXRoID0gdGhpcy5mb3JtYXRQYXRoKClcblxuICByZXR1cm4gdGhpcy5yZXF1ZXN0XG59XG5cblJlcXVlc3RTaWduZXIucHJvdG90eXBlLmdldERhdGVUaW1lID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy5kYXRldGltZSkge1xuICAgIHZhciBoZWFkZXJzID0gdGhpcy5yZXF1ZXN0LmhlYWRlcnMsXG4gICAgICBkYXRlID0gbmV3IERhdGUoaGVhZGVycy5EYXRlIHx8IGhlYWRlcnMuZGF0ZSB8fCBuZXcgRGF0ZSlcblxuICAgIHRoaXMuZGF0ZXRpbWUgPSBkYXRlLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgvWzpcXC1dfFxcLlxcZHszfS9nLCAnJylcblxuICAgIC8vIFJlbW92ZSB0aGUgdHJhaWxpbmcgJ1onIG9uIHRoZSB0aW1lc3RhbXAgc3RyaW5nIGZvciBDb2RlQ29tbWl0IGdpdCBhY2Nlc3NcbiAgICBpZiAodGhpcy5pc0NvZGVDb21taXRHaXQpIHRoaXMuZGF0ZXRpbWUgPSB0aGlzLmRhdGV0aW1lLnNsaWNlKDAsIC0xKVxuICB9XG4gIHJldHVybiB0aGlzLmRhdGV0aW1lXG59XG5cblJlcXVlc3RTaWduZXIucHJvdG90eXBlLmdldERhdGUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZ2V0RGF0ZVRpbWUoKS5zdWJzdHIoMCwgOClcbn1cblxuUmVxdWVzdFNpZ25lci5wcm90b3R5cGUuYXV0aEhlYWRlciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gW1xuICAgICdBV1M0LUhNQUMtU0hBMjU2IENyZWRlbnRpYWw9JyArIHRoaXMuY3JlZGVudGlhbHMuYWNjZXNzS2V5SWQgKyAnLycgKyB0aGlzLmNyZWRlbnRpYWxTdHJpbmcoKSxcbiAgICAnU2lnbmVkSGVhZGVycz0nICsgdGhpcy5zaWduZWRIZWFkZXJzKCksXG4gICAgJ1NpZ25hdHVyZT0nICsgdGhpcy5zaWduYXR1cmUoKSxcbiAgXS5qb2luKCcsICcpXG59XG5cblJlcXVlc3RTaWduZXIucHJvdG90eXBlLnNpZ25hdHVyZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZGF0ZSA9IHRoaXMuZ2V0RGF0ZSgpLFxuICAgICAgY2FjaGVLZXkgPSBbdGhpcy5jcmVkZW50aWFscy5zZWNyZXRBY2Nlc3NLZXksIGRhdGUsIHRoaXMucmVnaW9uLCB0aGlzLnNlcnZpY2VdLmpvaW4oKSxcbiAgICAgIGtEYXRlLCBrUmVnaW9uLCBrU2VydmljZSwga0NyZWRlbnRpYWxzID0gY3JlZGVudGlhbHNDYWNoZS5nZXQoY2FjaGVLZXkpXG4gIGlmICgha0NyZWRlbnRpYWxzKSB7XG4gICAga0RhdGUgPSBobWFjKCdBV1M0JyArIHRoaXMuY3JlZGVudGlhbHMuc2VjcmV0QWNjZXNzS2V5LCBkYXRlKVxuICAgIGtSZWdpb24gPSBobWFjKGtEYXRlLCB0aGlzLnJlZ2lvbilcbiAgICBrU2VydmljZSA9IGhtYWMoa1JlZ2lvbiwgdGhpcy5zZXJ2aWNlKVxuICAgIGtDcmVkZW50aWFscyA9IGhtYWMoa1NlcnZpY2UsICdhd3M0X3JlcXVlc3QnKVxuICAgIGNyZWRlbnRpYWxzQ2FjaGUuc2V0KGNhY2hlS2V5LCBrQ3JlZGVudGlhbHMpXG4gIH1cbiAgcmV0dXJuIGhtYWMoa0NyZWRlbnRpYWxzLCB0aGlzLnN0cmluZ1RvU2lnbigpLCAnaGV4Jylcbn1cblxuUmVxdWVzdFNpZ25lci5wcm90b3R5cGUuc3RyaW5nVG9TaWduID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbXG4gICAgJ0FXUzQtSE1BQy1TSEEyNTYnLFxuICAgIHRoaXMuZ2V0RGF0ZVRpbWUoKSxcbiAgICB0aGlzLmNyZWRlbnRpYWxTdHJpbmcoKSxcbiAgICBoYXNoKHRoaXMuY2Fub25pY2FsU3RyaW5nKCksICdoZXgnKSxcbiAgXS5qb2luKCdcXG4nKVxufVxuXG5SZXF1ZXN0U2lnbmVyLnByb3RvdHlwZS5jYW5vbmljYWxTdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCF0aGlzLnBhcnNlZFBhdGgpIHRoaXMucHJlcGFyZVJlcXVlc3QoKVxuXG4gIHZhciBwYXRoU3RyID0gdGhpcy5wYXJzZWRQYXRoLnBhdGgsXG4gICAgICBxdWVyeSA9IHRoaXMucGFyc2VkUGF0aC5xdWVyeSxcbiAgICAgIGhlYWRlcnMgPSB0aGlzLnJlcXVlc3QuaGVhZGVycyxcbiAgICAgIHF1ZXJ5U3RyID0gJycsXG4gICAgICBub3JtYWxpemVQYXRoID0gdGhpcy5zZXJ2aWNlICE9PSAnczMnLFxuICAgICAgZGVjb2RlUGF0aCA9IHRoaXMuc2VydmljZSA9PT0gJ3MzJyB8fCB0aGlzLnJlcXVlc3QuZG9Ob3RFbmNvZGVQYXRoLFxuICAgICAgZGVjb2RlU2xhc2hlc0luUGF0aCA9IHRoaXMuc2VydmljZSA9PT0gJ3MzJyxcbiAgICAgIGZpcnN0VmFsT25seSA9IHRoaXMuc2VydmljZSA9PT0gJ3MzJyxcbiAgICAgIGJvZHlIYXNoXG5cbiAgaWYgKHRoaXMuc2VydmljZSA9PT0gJ3MzJyAmJiB0aGlzLnJlcXVlc3Quc2lnblF1ZXJ5KSB7XG4gICAgYm9keUhhc2ggPSAnVU5TSUdORUQtUEFZTE9BRCdcbiAgfSBlbHNlIGlmICh0aGlzLmlzQ29kZUNvbW1pdEdpdCkge1xuICAgIGJvZHlIYXNoID0gJydcbiAgfSBlbHNlIHtcbiAgICBib2R5SGFzaCA9IGhlYWRlcnNbJ1gtQW16LUNvbnRlbnQtU2hhMjU2J10gfHwgaGVhZGVyc1sneC1hbXotY29udGVudC1zaGEyNTYnXSB8fFxuICAgICAgaGFzaCh0aGlzLnJlcXVlc3QuYm9keSB8fCAnJywgJ2hleCcpXG4gIH1cblxuICBpZiAocXVlcnkpIHtcbiAgICB2YXIgcmVkdWNlZFF1ZXJ5ID0gT2JqZWN0LmtleXMocXVlcnkpLnJlZHVjZShmdW5jdGlvbihvYmosIGtleSkge1xuICAgICAgaWYgKCFrZXkpIHJldHVybiBvYmpcbiAgICAgIG9ialtlbmNvZGVSZmMzOTg2RnVsbChrZXkpXSA9ICFBcnJheS5pc0FycmF5KHF1ZXJ5W2tleV0pID8gcXVlcnlba2V5XSA6XG4gICAgICAgIChmaXJzdFZhbE9ubHkgPyBxdWVyeVtrZXldWzBdIDogcXVlcnlba2V5XSlcbiAgICAgIHJldHVybiBvYmpcbiAgICB9LCB7fSlcbiAgICB2YXIgZW5jb2RlZFF1ZXJ5UGllY2VzID0gW11cbiAgICBPYmplY3Qua2V5cyhyZWR1Y2VkUXVlcnkpLnNvcnQoKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHJlZHVjZWRRdWVyeVtrZXldKSkge1xuICAgICAgICBlbmNvZGVkUXVlcnlQaWVjZXMucHVzaChrZXkgKyAnPScgKyBlbmNvZGVSZmMzOTg2RnVsbChyZWR1Y2VkUXVlcnlba2V5XSkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWR1Y2VkUXVlcnlba2V5XS5tYXAoZW5jb2RlUmZjMzk4NkZ1bGwpLnNvcnQoKVxuICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKHZhbCkgeyBlbmNvZGVkUXVlcnlQaWVjZXMucHVzaChrZXkgKyAnPScgKyB2YWwpIH0pXG4gICAgICB9XG4gICAgfSlcbiAgICBxdWVyeVN0ciA9IGVuY29kZWRRdWVyeVBpZWNlcy5qb2luKCcmJylcbiAgfVxuICBpZiAocGF0aFN0ciAhPT0gJy8nKSB7XG4gICAgaWYgKG5vcm1hbGl6ZVBhdGgpIHBhdGhTdHIgPSBwYXRoU3RyLnJlcGxhY2UoL1xcL3syLH0vZywgJy8nKVxuICAgIHBhdGhTdHIgPSBwYXRoU3RyLnNwbGl0KCcvJykucmVkdWNlKGZ1bmN0aW9uKHBhdGgsIHBpZWNlKSB7XG4gICAgICBpZiAobm9ybWFsaXplUGF0aCAmJiBwaWVjZSA9PT0gJy4uJykge1xuICAgICAgICBwYXRoLnBvcCgpXG4gICAgICB9IGVsc2UgaWYgKCFub3JtYWxpemVQYXRoIHx8IHBpZWNlICE9PSAnLicpIHtcbiAgICAgICAgaWYgKGRlY29kZVBhdGgpIHBpZWNlID0gZGVjb2RlVVJJQ29tcG9uZW50KHBpZWNlLnJlcGxhY2UoL1xcKy9nLCAnICcpKVxuICAgICAgICBwYXRoLnB1c2goZW5jb2RlUmZjMzk4NkZ1bGwocGllY2UpKVxuICAgICAgfVxuICAgICAgcmV0dXJuIHBhdGhcbiAgICB9LCBbXSkuam9pbignLycpXG4gICAgaWYgKHBhdGhTdHJbMF0gIT09ICcvJykgcGF0aFN0ciA9ICcvJyArIHBhdGhTdHJcbiAgICBpZiAoZGVjb2RlU2xhc2hlc0luUGF0aCkgcGF0aFN0ciA9IHBhdGhTdHIucmVwbGFjZSgvJTJGL2csICcvJylcbiAgfVxuXG4gIHJldHVybiBbXG4gICAgdGhpcy5yZXF1ZXN0Lm1ldGhvZCB8fCAnR0VUJyxcbiAgICBwYXRoU3RyLFxuICAgIHF1ZXJ5U3RyLFxuICAgIHRoaXMuY2Fub25pY2FsSGVhZGVycygpICsgJ1xcbicsXG4gICAgdGhpcy5zaWduZWRIZWFkZXJzKCksXG4gICAgYm9keUhhc2gsXG4gIF0uam9pbignXFxuJylcbn1cblxuUmVxdWVzdFNpZ25lci5wcm90b3R5cGUuY2Fub25pY2FsSGVhZGVycyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaGVhZGVycyA9IHRoaXMucmVxdWVzdC5oZWFkZXJzXG4gIGZ1bmN0aW9uIHRyaW1BbGwoaGVhZGVyKSB7XG4gICAgcmV0dXJuIGhlYWRlci50b1N0cmluZygpLnRyaW0oKS5yZXBsYWNlKC9cXHMrL2csICcgJylcbiAgfVxuICByZXR1cm4gT2JqZWN0LmtleXMoaGVhZGVycylcbiAgICAuZmlsdGVyKGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gSEVBREVSU19UT19JR05PUkVba2V5LnRvTG93ZXJDYXNlKCldID09IG51bGwgfSlcbiAgICAuc29ydChmdW5jdGlvbihhLCBiKSB7IHJldHVybiBhLnRvTG93ZXJDYXNlKCkgPCBiLnRvTG93ZXJDYXNlKCkgPyAtMSA6IDEgfSlcbiAgICAubWFwKGZ1bmN0aW9uKGtleSkgeyByZXR1cm4ga2V5LnRvTG93ZXJDYXNlKCkgKyAnOicgKyB0cmltQWxsKGhlYWRlcnNba2V5XSkgfSlcbiAgICAuam9pbignXFxuJylcbn1cblxuUmVxdWVzdFNpZ25lci5wcm90b3R5cGUuc2lnbmVkSGVhZGVycyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZXh0cmFIZWFkZXJzVG9JbmNsdWRlID0gdGhpcy5leHRyYUhlYWRlcnNUb0luY2x1ZGUsXG4gICAgICBleHRyYUhlYWRlcnNUb0lnbm9yZSA9IHRoaXMuZXh0cmFIZWFkZXJzVG9JZ25vcmVcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMucmVxdWVzdC5oZWFkZXJzKVxuICAgIC5tYXAoZnVuY3Rpb24oa2V5KSB7IHJldHVybiBrZXkudG9Mb3dlckNhc2UoKSB9KVxuICAgIC5maWx0ZXIoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZXh0cmFIZWFkZXJzVG9JbmNsdWRlW2tleV0gfHxcbiAgICAgICAgKEhFQURFUlNfVE9fSUdOT1JFW2tleV0gPT0gbnVsbCAmJiAhZXh0cmFIZWFkZXJzVG9JZ25vcmVba2V5XSlcbiAgICB9KVxuICAgIC5zb3J0KClcbiAgICAuam9pbignOycpXG59XG5cblJlcXVlc3RTaWduZXIucHJvdG90eXBlLmNyZWRlbnRpYWxTdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFtcbiAgICB0aGlzLmdldERhdGUoKSxcbiAgICB0aGlzLnJlZ2lvbixcbiAgICB0aGlzLnNlcnZpY2UsXG4gICAgJ2F3czRfcmVxdWVzdCcsXG4gIF0uam9pbignLycpXG59XG5cblJlcXVlc3RTaWduZXIucHJvdG90eXBlLmRlZmF1bHRDcmVkZW50aWFscyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZW52ID0gcHJvY2Vzcy5lbnZcbiAgcmV0dXJuIHtcbiAgICBhY2Nlc3NLZXlJZDogZW52LkFXU19BQ0NFU1NfS0VZX0lEIHx8IGVudi5BV1NfQUNDRVNTX0tFWSxcbiAgICBzZWNyZXRBY2Nlc3NLZXk6IGVudi5BV1NfU0VDUkVUX0FDQ0VTU19LRVkgfHwgZW52LkFXU19TRUNSRVRfS0VZLFxuICAgIHNlc3Npb25Ub2tlbjogZW52LkFXU19TRVNTSU9OX1RPS0VOLFxuICB9XG59XG5cblJlcXVlc3RTaWduZXIucHJvdG90eXBlLnBhcnNlUGF0aCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcGF0aCA9IHRoaXMucmVxdWVzdC5wYXRoIHx8ICcvJ1xuXG4gIC8vIFMzIGRvZXNuJ3QgYWx3YXlzIGVuY29kZSBjaGFyYWN0ZXJzID4gMTI3IGNvcnJlY3RseSBhbmRcbiAgLy8gYWxsIHNlcnZpY2VzIGRvbid0IGVuY29kZSBjaGFyYWN0ZXJzID4gMjU1IGNvcnJlY3RseVxuICAvLyBTbyBpZiB0aGVyZSBhcmUgbm9uLXJlc2VydmVkIGNoYXJzIChhbmQgaXQncyBub3QgYWxyZWFkeSBhbGwgJSBlbmNvZGVkKSwganVzdCBlbmNvZGUgdGhlbSBhbGxcbiAgaWYgKC9bXjAtOUEtWmEtejssLz86QCY9KyRcXC1fLiF+KicoKSMlXS8udGVzdChwYXRoKSkge1xuICAgIHBhdGggPSBlbmNvZGVVUkkoZGVjb2RlVVJJKHBhdGgpKVxuICB9XG5cbiAgdmFyIHF1ZXJ5SXggPSBwYXRoLmluZGV4T2YoJz8nKSxcbiAgICAgIHF1ZXJ5ID0gbnVsbFxuXG4gIGlmIChxdWVyeUl4ID49IDApIHtcbiAgICBxdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHBhdGguc2xpY2UocXVlcnlJeCArIDEpKVxuICAgIHBhdGggPSBwYXRoLnNsaWNlKDAsIHF1ZXJ5SXgpXG4gIH1cblxuICB0aGlzLnBhcnNlZFBhdGggPSB7XG4gICAgcGF0aDogcGF0aCxcbiAgICBxdWVyeTogcXVlcnksXG4gIH1cbn1cblxuUmVxdWVzdFNpZ25lci5wcm90b3R5cGUuZm9ybWF0UGF0aCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcGF0aCA9IHRoaXMucGFyc2VkUGF0aC5wYXRoLFxuICAgICAgcXVlcnkgPSB0aGlzLnBhcnNlZFBhdGgucXVlcnlcblxuICBpZiAoIXF1ZXJ5KSByZXR1cm4gcGF0aFxuXG4gIC8vIFNlcnZpY2VzIGRvbid0IHN1cHBvcnQgZW1wdHkgcXVlcnkgc3RyaW5nIGtleXNcbiAgaWYgKHF1ZXJ5WycnXSAhPSBudWxsKSBkZWxldGUgcXVlcnlbJyddXG5cbiAgcmV0dXJuIHBhdGggKyAnPycgKyBlbmNvZGVSZmMzOTg2KHF1ZXJ5c3RyaW5nLnN0cmluZ2lmeShxdWVyeSkpXG59XG5cbmF3czQuUmVxdWVzdFNpZ25lciA9IFJlcXVlc3RTaWduZXJcblxuYXdzNC5zaWduID0gZnVuY3Rpb24ocmVxdWVzdCwgY3JlZGVudGlhbHMpIHtcbiAgcmV0dXJuIG5ldyBSZXF1ZXN0U2lnbmVyKHJlcXVlc3QsIGNyZWRlbnRpYWxzKS5zaWduKClcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/aws4/aws4.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/aws4/lru.js":
/*!**********************************!*\
  !*** ./node_modules/aws4/lru.js ***!
  \**********************************/
/***/ ((module) => {

eval("module.exports = function(size) {\n  return new LruCache(size)\n}\n\nfunction LruCache(size) {\n  this.capacity = size | 0\n  this.map = Object.create(null)\n  this.list = new DoublyLinkedList()\n}\n\nLruCache.prototype.get = function(key) {\n  var node = this.map[key]\n  if (node == null) return undefined\n  this.used(node)\n  return node.val\n}\n\nLruCache.prototype.set = function(key, val) {\n  var node = this.map[key]\n  if (node != null) {\n    node.val = val\n  } else {\n    if (!this.capacity) this.prune()\n    if (!this.capacity) return false\n    node = new DoublyLinkedNode(key, val)\n    this.map[key] = node\n    this.capacity--\n  }\n  this.used(node)\n  return true\n}\n\nLruCache.prototype.used = function(node) {\n  this.list.moveToFront(node)\n}\n\nLruCache.prototype.prune = function() {\n  var node = this.list.pop()\n  if (node != null) {\n    delete this.map[node.key]\n    this.capacity++\n  }\n}\n\n\nfunction DoublyLinkedList() {\n  this.firstNode = null\n  this.lastNode = null\n}\n\nDoublyLinkedList.prototype.moveToFront = function(node) {\n  if (this.firstNode == node) return\n\n  this.remove(node)\n\n  if (this.firstNode == null) {\n    this.firstNode = node\n    this.lastNode = node\n    node.prev = null\n    node.next = null\n  } else {\n    node.prev = null\n    node.next = this.firstNode\n    node.next.prev = node\n    this.firstNode = node\n  }\n}\n\nDoublyLinkedList.prototype.pop = function() {\n  var lastNode = this.lastNode\n  if (lastNode != null) {\n    this.remove(lastNode)\n  }\n  return lastNode\n}\n\nDoublyLinkedList.prototype.remove = function(node) {\n  if (this.firstNode == node) {\n    this.firstNode = node.next\n  } else if (node.prev != null) {\n    node.prev.next = node.next\n  }\n  if (this.lastNode == node) {\n    this.lastNode = node.prev\n  } else if (node.next != null) {\n    node.next.prev = node.prev\n  }\n}\n\n\nfunction DoublyLinkedNode(key, val) {\n  this.key = key\n  this.val = val\n  this.prev = null\n  this.next = null\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvYXdzNC9scnUuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGFnZS1mb3JtLy4vbm9kZV9tb2R1bGVzL2F3czQvbHJ1LmpzPzJlYmEiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihzaXplKSB7XG4gIHJldHVybiBuZXcgTHJ1Q2FjaGUoc2l6ZSlcbn1cblxuZnVuY3Rpb24gTHJ1Q2FjaGUoc2l6ZSkge1xuICB0aGlzLmNhcGFjaXR5ID0gc2l6ZSB8IDBcbiAgdGhpcy5tYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpXG4gIHRoaXMubGlzdCA9IG5ldyBEb3VibHlMaW5rZWRMaXN0KClcbn1cblxuTHJ1Q2FjaGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGtleSkge1xuICB2YXIgbm9kZSA9IHRoaXMubWFwW2tleV1cbiAgaWYgKG5vZGUgPT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZFxuICB0aGlzLnVzZWQobm9kZSlcbiAgcmV0dXJuIG5vZGUudmFsXG59XG5cbkxydUNhY2hlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihrZXksIHZhbCkge1xuICB2YXIgbm9kZSA9IHRoaXMubWFwW2tleV1cbiAgaWYgKG5vZGUgIT0gbnVsbCkge1xuICAgIG5vZGUudmFsID0gdmFsXG4gIH0gZWxzZSB7XG4gICAgaWYgKCF0aGlzLmNhcGFjaXR5KSB0aGlzLnBydW5lKClcbiAgICBpZiAoIXRoaXMuY2FwYWNpdHkpIHJldHVybiBmYWxzZVxuICAgIG5vZGUgPSBuZXcgRG91Ymx5TGlua2VkTm9kZShrZXksIHZhbClcbiAgICB0aGlzLm1hcFtrZXldID0gbm9kZVxuICAgIHRoaXMuY2FwYWNpdHktLVxuICB9XG4gIHRoaXMudXNlZChub2RlKVxuICByZXR1cm4gdHJ1ZVxufVxuXG5McnVDYWNoZS5wcm90b3R5cGUudXNlZCA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgdGhpcy5saXN0Lm1vdmVUb0Zyb250KG5vZGUpXG59XG5cbkxydUNhY2hlLnByb3RvdHlwZS5wcnVuZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgbm9kZSA9IHRoaXMubGlzdC5wb3AoKVxuICBpZiAobm9kZSAhPSBudWxsKSB7XG4gICAgZGVsZXRlIHRoaXMubWFwW25vZGUua2V5XVxuICAgIHRoaXMuY2FwYWNpdHkrK1xuICB9XG59XG5cblxuZnVuY3Rpb24gRG91Ymx5TGlua2VkTGlzdCgpIHtcbiAgdGhpcy5maXJzdE5vZGUgPSBudWxsXG4gIHRoaXMubGFzdE5vZGUgPSBudWxsXG59XG5cbkRvdWJseUxpbmtlZExpc3QucHJvdG90eXBlLm1vdmVUb0Zyb250ID0gZnVuY3Rpb24obm9kZSkge1xuICBpZiAodGhpcy5maXJzdE5vZGUgPT0gbm9kZSkgcmV0dXJuXG5cbiAgdGhpcy5yZW1vdmUobm9kZSlcblxuICBpZiAodGhpcy5maXJzdE5vZGUgPT0gbnVsbCkge1xuICAgIHRoaXMuZmlyc3ROb2RlID0gbm9kZVxuICAgIHRoaXMubGFzdE5vZGUgPSBub2RlXG4gICAgbm9kZS5wcmV2ID0gbnVsbFxuICAgIG5vZGUubmV4dCA9IG51bGxcbiAgfSBlbHNlIHtcbiAgICBub2RlLnByZXYgPSBudWxsXG4gICAgbm9kZS5uZXh0ID0gdGhpcy5maXJzdE5vZGVcbiAgICBub2RlLm5leHQucHJldiA9IG5vZGVcbiAgICB0aGlzLmZpcnN0Tm9kZSA9IG5vZGVcbiAgfVxufVxuXG5Eb3VibHlMaW5rZWRMaXN0LnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGxhc3ROb2RlID0gdGhpcy5sYXN0Tm9kZVxuICBpZiAobGFzdE5vZGUgIT0gbnVsbCkge1xuICAgIHRoaXMucmVtb3ZlKGxhc3ROb2RlKVxuICB9XG4gIHJldHVybiBsYXN0Tm9kZVxufVxuXG5Eb3VibHlMaW5rZWRMaXN0LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihub2RlKSB7XG4gIGlmICh0aGlzLmZpcnN0Tm9kZSA9PSBub2RlKSB7XG4gICAgdGhpcy5maXJzdE5vZGUgPSBub2RlLm5leHRcbiAgfSBlbHNlIGlmIChub2RlLnByZXYgIT0gbnVsbCkge1xuICAgIG5vZGUucHJldi5uZXh0ID0gbm9kZS5uZXh0XG4gIH1cbiAgaWYgKHRoaXMubGFzdE5vZGUgPT0gbm9kZSkge1xuICAgIHRoaXMubGFzdE5vZGUgPSBub2RlLnByZXZcbiAgfSBlbHNlIGlmIChub2RlLm5leHQgIT0gbnVsbCkge1xuICAgIG5vZGUubmV4dC5wcmV2ID0gbm9kZS5wcmV2XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBEb3VibHlMaW5rZWROb2RlKGtleSwgdmFsKSB7XG4gIHRoaXMua2V5ID0ga2V5XG4gIHRoaXMudmFsID0gdmFsXG4gIHRoaXMucHJldiA9IG51bGxcbiAgdGhpcy5uZXh0ID0gbnVsbFxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/aws4/lru.js\n");

/***/ })

};
;